generator photon {
  provider  = "photonjs"
  platforms = ["native", "linux-glibc-libssl1.0.1"]
}

datasource db {
  provider = "postgresql"
  url      = env("POSTGRESQL_URL")
}

model User {
  id        String    @default(cuid()) @unique @id
  email     String    @unique
  password  String
  firstName String?
  lastName  String?
  deleted   Boolean
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  lastLogin DateTime?
}

model Gallery {
  id          String   @default(cuid()) @unique @id
  uri         String   @unique
  title       String
  description String
  author      User
  deleted     Boolean
  publishedAt DateTime @default(now())
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model GalleryMedia {
  id          String   @default(cuid()) @unique @id
  gallery     Gallery
  media       Media
  deleted     Boolean
  publishedAt DateTime @default(now())
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model Media {
  id        String   @default(cuid()) @unique @id
  author    User
  deleted   Boolean
  filetype  String
  path      String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}