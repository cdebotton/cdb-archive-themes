# Migration `20190809080950-create-users-table`

This migration has been generated by Christian de Botton at 8/9/2019, 8:09:50 AM.
You can check out the [state of the datamodel](./datamodel.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."User"("id" text NOT NULL  ,"email" text NOT NULL DEFAULT '' ,"password" text NOT NULL DEFAULT '' ,"firstName" text   ,"lastName" text   ,"createdAt" timestamp(3) NOT NULL  ,"updatedAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,"lastLogin" timestamp(3)   ,PRIMARY KEY ("id"));

CREATE UNIQUE INDEX "User.id._UNIQUE" ON "public"."User"("id")

CREATE UNIQUE INDEX "User.email._UNIQUE" ON "public"."User"("email")
```

## Changes

```diff
diff --git datamodel.mdl datamodel.mdl
migration ..20190809080950-create-users-table
--- datamodel.dml
+++ datamodel.dml
@@ -1,0 +1,23 @@
+generator photon {
+  provider = "photonjs"
+}
+
+generator nexus_prisma {
+  provider = "nexus-prisma"
+}
+
+datasource db {
+  provider = "postgresql"
+  url      = env("POSTGRESQL_URL")
+}
+
+model User {
+  id        String    @default(cuid()) @unique @id
+  email     String    @unique
+  password  String
+  firstName String?
+  lastName  String?
+  createdAt DateTime  @default(now())
+  updatedAt DateTime  @updatedAt
+  lastLogin DateTime?
+}
```

## Photon Usage

You can use a specific Photon built for this migration (20190809080950-create-users-table)
in your `before` or `after` migration script like this:

```ts
import Photon from '@generated/photon/20190809080950-create-users-table'

const photon = new Photon()

async function main() {
  const result = await photon.users()
  console.dir(result, { depth: null })
}

main()

```
